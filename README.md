# PocketZone2
PocketZone2

Проект выполненный в рамках тестового задания. В проекте реализованы такие механики как: 
- Управление персонажем;
- Система поведения врагов с использованием паттерна State;
- Гибкая система предметов;
- Гибкая система добавления оружия;
- Инвентарь с информацией о предметах;
- Визуальное отображение жизней;
- Сохранение данных между сессиями с помощью Json;
- Настраиваемая система лута с монстров;
- Система поиска целей ( у врагов- поиск игрока, у персонажа - нацеливание на ближайшего врага);
- Настраиваемая система спавна врагов;

## Гибкая система настройки предметов
Позволяет быстро добавлять новые предметы, просто создав ScriptableObject через меню. Поля для настройки содержат:
- Item Info: Содержит информацию об объекте;
- Drop settings: Содержит параметры для настройки вероятности и количества дропа предмета
- Counter: Настраивает максимальное колличество предмета в инвентаре.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/2016700f-9820-4a51-862d-051f773c5f70)

## Система поиска цели
При приблежении на дистанцию, заданную параметром SeeDistance, враг начинает движение в строну своей цели, а игрок выбирает приблизившийся объект в качестве цели.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/215fab5f-9cd9-4f8a-bad0-6a3b98a130b9)

## Инвентарь 
Показывает все предметы игрока, их колличество, описание. При нажатии на ячейку, расскрывается подробная информация о предмете. Нажатие на кнопку, удаляет объект из инвентаря и обнуляет его колличество.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/7f6e901f-59a5-4315-945b-1c511debcff5)

## Сохранение результата между сессиями
Сохранение результата реализовано с использованием Json файлов. Для сохранения и загрузки прогресса используется меню.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/29d269d8-4ba3-46cb-993d-c9345f9b7854)

Формат сохраняемых параметров:

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/3c6e0c5f-8d74-4cd1-a3d8-54e969335e92)

Есть возможность настройки стартового пака задавая предмет, его колличество, стартовое колличество ХП и позицию спавна.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/7e6ca0bd-e63c-40fc-bf3d-5b734e940606)
## Спавн врагов 
Спавн врагов в игре реализован волнами. В настройках спавна, есть возможность с помощью AnimationCurve настроить задержку между спавном волн, колличество врагов в волне, задать максимальное колличество врагов на карте, смещение от краев камеры для спавна врагов. Спавн происходит за границами камеры. Враги выбираются рандомно в соответствии с заданным им приоритетом.

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/9d99bc67-c2af-44e4-bfa4-24d1e18b6890)

## Враги
Класс Enemy унаследован от класса Entity. У врага можно настроить параметры:
- Приоритет спавна, среди остальных врагов;
- Дальность обзора. Если целей в данном радиусе нет, враг стоит на месте, в противном же случае, начинает двигаться в сторону цели.
- Скорость
- Предметы, которые могут выпасть в качестве лута при смерти
- Параметры атаки (дистанция с которой происходит атака, дистанция остановки перед атакой, задержка перед атакой, урон)

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/3a6e27f9-bed7-41f2-9f33-c800e34b1dda)
## Смена оружия
В игре предусмотрена смена оружия. За это отвечает WeaponManager, который принимает объекты типа Weapon

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/9cfd29cf-23f8-409b-a62c-1fa86bff17d4)

На данный момент в игре реализовано 2 огнестрельных оружия, которые представлены классом Gun производный от Weapon. У оружия можно настроить следующие параметры:
- Задержка между выстрелами;
- префаб патрона
- интенсивность тряски экрана при выстреле
- тип патронов
- Количество пуль за выстрел
- Точка создания пули
- контейнер для создания пуль

![image](https://github.com/Xranitell/PocketZone2/assets/65007471/0cc064f9-2f98-40ab-9569-053a827e26aa)


